.lil-gui {
	.title {
		height: var(--title-height);
		font-weight: 600;
		padding: 0 var(--padding);
		// todo: why do i need this -2px?
		line-height: calc(var(--title-height) - 2px);
		-webkit-tap-highlight-color: transparent;
		cursor: pointer;
		&:before {
			font-family: 'lil-gui';
			content: '▾';
		}
		&:focus { 
			outline: 1px solid var(--highlight-color);
			outline-offset: -1px;
		}
	}

	&.closed > {
		.title:before {
			content: '▸';
		}
		.children {
			transform: translateY(-7px);
			opacity: 0;
			&:not(.transition) {
				display: none;
			}
		}
	}

	.children.transition {
		transition-duration: 300ms;
		transition-property: height, opacity, transform;
		transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
		overflow: hidden;
	}

	// Empty children
	// -------------------------------------------------------------------------

	.children:empty:before {
		content: 'Empty';
		padding: 0 var(--padding);
		margin: var(--spacing) 0;
		display: block;
		height: var(--widget-height);
		font-style: italic;
		line-height: var(--widget-height);
		opacity: 0.5;
	}

	// Root folders
	// -------------------------------------------------------------------------

	& &:not(.closed) > .title {
		border-bottom: 1px solid var(--widget-color);
	}

	&:not(.closed) + .controller {
		border-top: 1px solid var(--widget-color);
		margin-top: 0;
		padding-top: var(--spacing);
	}

	// Nested folders
	// -------------------------------------------------------------------------

	& & .controller {
		border: none;
	}

	& & & {
		> .title {
			border: none;
		}
		> .children {
			border: none;
			margin-left: var(--folder-indent);
			border-left: 2px solid var(--widget-color);
		}
	}
}
