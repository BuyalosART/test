<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1">
	<title></title>
	<link rel="stylesheet" href="Vector3Controller.css">
</head>
<body>
	<pre id="pre"></pre>
	<script type="module">
		import GUI from '../../dist/lil-gui.esm.js';

		import Vector3Controller from './Vector3Controller.js';

		const params = {
			vector3: { x: 0, y: 0, z: 0 },
			disabled: { x: 0, y: 0, z: 0 },
			listen: { x: 0, y: 0, z: 0 },
		};

		const gui = new GUI();

		new Vector3Controller( gui, params, 'vector3' );
		new Vector3Controller( gui, params, 'disabled' ).disable();

		// Ideally, controllers are still interactible during listen until they change.
		new Vector3Controller( gui, params, 'listen' ).listen();

		animate();
		function animate() {

			const time = Date.now() * .001;

			params.listen.x = Math.sin( time );
			params.listen.y = Math.sin( time * 2 );
			params.listen.z = Math.cos( time );

			pre.innerHTML = JSON.stringify( params, null, 2 );

			setTimeout( animate, 2500 );

		}
	</script>
</body>
</html>
